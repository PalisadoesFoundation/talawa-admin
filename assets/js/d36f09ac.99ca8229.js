"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[90649],{29438:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var t=s(30758);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}},77301:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"docs/developer-resources/e2e-testing","title":"End to End Testing","description":"This project uses Cypress for comprehensive end-to-end testing to ensure the application works correctly from a user\'s perspective.","source":"@site/docs/docs/developer-resources/e2e-testing.md","sourceDirName":"docs/developer-resources","slug":"/developer-resources/e2e-testing","permalink":"/docs/developer-resources/e2e-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/PalisadoesFoundation/talawa-admin/edit/develop/docs/docs/docs/developer-resources/e2e-testing.md","tags":[],"version":"current","sidebarPosition":70,"frontMatter":{"id":"e2e-testing","title":"End to End Testing","slug":"/developer-resources/e2e-testing","sidebar_position":70},"sidebar":"tutorialSidebar","previous":{"title":"Testing","permalink":"/docs/developer-resources/testing"},"next":{"title":"Troubleshooting","permalink":"/docs/developer-resources/troubleshooting"}}');var i=s(86070),r=s(29438);const o={id:"e2e-testing",title:"End to End Testing",slug:"/developer-resources/e2e-testing",sidebar_position:70},a=void 0,l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Talawa API Setup",id:"talawa-api-setup",level:3},{value:"Application Server",id:"application-server",level:3},{value:"Directory Structure",id:"directory-structure",level:2},{value:"Key Components:",id:"key-components",level:3},{value:"Running Tests",id:"running-tests",level:2},{value:"Available Commands",id:"available-commands",level:3},{value:"Running Specific Tests",id:"running-specific-tests",level:3},{value:"Interactive Mode",id:"interactive-mode",level:4},{value:"Headless Mode",id:"headless-mode",level:4},{value:"Writing Tests",id:"writing-tests",level:2},{value:"Page Object Model",id:"page-object-model",level:3},{value:"Custom Commands",id:"custom-commands",level:3},{value:"GraphQL Utilities",id:"graphql-utilities",level:3},{value:"Test Data",id:"test-data",level:3},{value:"Test Coverage Report",id:"test-coverage-report",level:3},{value:"Contributing",id:"contributing",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"This project uses Cypress for comprehensive end-to-end testing to ensure the application works correctly from a user's perspective."}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(n.p,{children:"Before running Cypress tests, ensure you have the following setup:"}),"\n",(0,i.jsx)(n.h3,{id:"talawa-api-setup",children:"Talawa API Setup"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Important"}),": The ",(0,i.jsx)(n.a,{href:"https://github.com/PalisadoesFoundation/talawa-api",children:"Talawa API"})," must be properly installed, configured, and running before executing any Cypress tests. The tests depend on API endpoints being available and functional."]}),"\n",(0,i.jsxs)(n.li,{children:["Please follow the complete installation guide at: ",(0,i.jsx)(n.a,{href:"https://github.com/PalisadoesFoundation/talawa-api/blob/develop/INSTALLATION.md",children:"https://github.com/PalisadoesFoundation/talawa-api/blob/develop/INSTALLATION.md"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"application-server",children:"Application Server"}),"\n",(0,i.jsxs)(n.p,{children:["Ensure your local development server is running on ",(0,i.jsx)(n.code,{children:"http://localhost:4321"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,i.jsx)(n.p,{children:"The tests follow the Page Object Model pattern for maintainability."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cypress/\n\u251c\u2500\u2500 e2e/                    # End-to-end test specifications\n\u2502   \u2514\u2500\u2500 example_spec/       # Related tests\n\u251c\u2500\u2500 fixtures/               # Test data and mock files\n\u2502   \u2514\u2500\u2500 users.json         # User test data\n\u251c\u2500\u2500 pageObjects/           # Page Object Model files\n\u2502   \u2514\u2500\u2500 auth/              # Authentication page objects\n\u2514\u2500\u2500 support/               # Support files and custom commands\n    \u2514\u2500\u2500 commands.ts        # Custom Cypress commands\n"})}),"\n",(0,i.jsx)(n.h3,{id:"key-components",children:"Key Components:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"e2e/"}),": Contains all test specification files organized by feature"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"fixtures/"}),": Static data used in tests (JSON files, images, etc.)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"pageObjects/"}),": Page Object Model implementation for maintainable test code"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"support/"}),": Custom commands and utilities to extend Cypress functionality"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"running-tests",children:"Running Tests"}),"\n",(0,i.jsx)(n.p,{children:"Follow these steps to run end to end tests"}),"\n",(0,i.jsx)(n.h3,{id:"available-commands",children:"Available Commands"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\n# Open Cypress Test Runner (Interactive Mode) \n# Preferred for Debugging\n\npnpm run cy:open\n\n# Run all tests in headless mode\n\npnpm run cy:run\n"})}),"\n",(0,i.jsx)(n.h3,{id:"running-specific-tests",children:"Running Specific Tests"}),"\n",(0,i.jsx)(n.p,{children:"There are multiple testing modes."}),"\n",(0,i.jsx)(n.h4,{id:"interactive-mode",children:"Interactive Mode"}),"\n",(0,i.jsx)(n.p,{children:"For running specific tests with visual feedback, use the Interactive Mode where you can view all test specs and run individual tests:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm run cy:open\n"})}),"\n",(0,i.jsx)(n.h4,{id:"headless-mode",children:"Headless Mode"}),"\n",(0,i.jsxs)(n.p,{children:["For running specific tests in headless mode, first manually start your application at ",(0,i.jsx)(n.code,{children:"http://localhost:4321"}),", then use the following commands:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Run tests in a specific folder\npnpm run cypress:run --spec "cypress/e2e/dashboard_spec/**/*"\n\n# Run a specific test file\npnpm run cypress:run --spec "cypress/e2e/login_spec/login.cy.ts"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"writing-tests",children:"Writing Tests"}),"\n",(0,i.jsx)(n.p,{children:"Follow these best practices when writing tests."}),"\n",(0,i.jsx)(n.h3,{id:"page-object-model",children:"Page Object Model"}),"\n",(0,i.jsx)(n.p,{children:"This project follows the Page Object Model pattern for better test maintenance:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Example usage of page objects\nimport { LoginPage } from '../pageObjects/auth/LoginPage';\n\nconst loginPage = new LoginPage();\n\nit('should login successfully', () => {\n  loginPage.verifyLoginPage().login(userData.email, userData.password);;\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"custom-commands",children:"Custom Commands"}),"\n",(0,i.jsxs)(n.p,{children:["Custom Cypress commands are defined in ",(0,i.jsx)(n.code,{children:"cypress/support/commands.ts"})," to provide reusable functionality across tests."]}),"\n",(0,i.jsx)(n.h3,{id:"graphql-utilities",children:"GraphQL Utilities"}),"\n",(0,i.jsxs)(n.p,{children:["To reduce duplication and improve reliability, use the GraphQL helpers defined in\n",(0,i.jsx)(n.code,{children:"cypress/support/graphql-utils.ts"}),". These helpers intercept GraphQL requests by\n",(0,i.jsx)(n.code,{children:"operationName"})," and provide a consistent API to mock, alias, and await calls."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["The interceptor respects ",(0,i.jsx)(n.code,{children:"CYPRESS_API_URL"})," via ",(0,i.jsx)(n.code,{children:"Cypress.env('apiUrl')"}),", and\nfalls back to ",(0,i.jsx)(n.code,{children:"**/graphql"})," if not set."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Mock a successful operation using a fixture\ncy.mockGraphQLOperation(\n  'OrganizationListBasic',\n  'api/graphql/organizations.success.json',\n);\n\n// Wait for the mocked operation\ncy.waitForGraphQLOperation('OrganizationListBasic');\n\n// Mock a GraphQL error response\ncy.mockGraphQLError(\n  'CreateOrganization',\n  'Organization name already exists',\n  'CONFLICT',\n);\n\n// Alias a live operation and wait for it\ncy.aliasGraphQLOperation('OrganizationListBasic');\ncy.waitForGraphQLOperation('OrganizationListBasic');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"test-data",children:"Test Data"}),"\n",(0,i.jsx)(n.p,{children:"Use fixtures for consistent test data:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Load test data from fixtures\ncy.fixture('users').then((users) => {\n  // Use users data in tests\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"test-coverage-report",children:"Test Coverage Report"}),"\n",(0,i.jsx)(n.p,{children:"After running your Cypress tests, you can generate detailed HTML coverage reports to analyze code coverage:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Run Cypress tests"})," to collect coverage data:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm run cy:run\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Generate HTML coverage report"})," using nyc:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx nyc --reporter=html\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"View the coverage report"})," in your browser:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"open coverage/index.html\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The HTML report provides an interactive view of:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Overall coverage percentages (statements, branches, functions, lines)"}),"\n",(0,i.jsx)(n.li,{children:"File-by-file coverage breakdown"}),"\n",(0,i.jsx)(n.li,{children:"Detailed line-by-line coverage highlighting"}),"\n",(0,i.jsx)(n.li,{children:"Uncovered code sections for easy identification"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note"}),": Coverage data is collected during test execution and stored in the ",(0,i.jsx)(n.code,{children:".nyc_output"})," directory. The HTML report is generated in the ",(0,i.jsx)(n.code,{children:"coverage/"})," directory."]}),"\n",(0,i.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,i.jsx)(n.p,{children:"When adding new tests:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Follow the existing directory structure"}),"\n",(0,i.jsx)(n.li,{children:"Use Page Object Model pattern"}),"\n",(0,i.jsx)(n.li,{children:"Add appropriate fixtures for test data"}),"\n",(0,i.jsx)(n.li,{children:"Ensure tests are independent and repeatable"}),"\n",(0,i.jsx)(n.li,{children:"Document any new custom commands"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["For more information about Cypress testing, visit the ",(0,i.jsx)(n.a,{href:"https://docs.cypress.io/",children:"official Cypress documentation"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);