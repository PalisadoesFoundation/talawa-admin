"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[72024],{29438:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>o});var i=n(30758);const s={},r=i.createContext(s);function l(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:t},e.children)}},64080:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/REACT_SITE_KEY-362aa23d698b0304342416814627ea2c.webp"},98741:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>a,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"docs/getting-started/configuration","title":"Configuration","description":"It\'s important to configure Talawa-Admin. Here\'s how to do it.","source":"@site/docs/docs/getting-started/configuration.md","sourceDirName":"docs/getting-started","slug":"/configuration","permalink":"/docs/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/PalisadoesFoundation/talawa-admin/edit/develop/docs/docs/docs/getting-started/configuration.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"configuration","title":"Configuration","slug":"/configuration","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/docs/installation"},"next":{"title":"Operation","permalink":"/docs/operation"}}');var s=n(86070),r=n(29438);const l={id:"configuration",title:"Configuration",slug:"/configuration",sidebar_position:2},o=void 0,d={},c=[{value:"Automated Setup",id:"automated-setup",level:2},{value:"Manual Setup",id:"manual-setup",level:2},{value:"The .env Configuration File",id:"the-env-configuration-file",level:3},{value:".env Parameters",id:"env-parameters",level:4},{value:"Setting up PORT in .env file",id:"setting-up-port-in-env-file",level:4},{value:"Setting up USE_DOCKER in .env file",id:"setting-up-use_docker-in-env-file",level:4},{value:"Setting up DOCKER_MODE in .env file",id:"setting-up-docker_mode-in-env-file",level:4},{value:"Setting up DOCKER_PORT in .env file",id:"setting-up-docker_port-in-env-file",level:4},{value:"Deployment &amp; Configuration Scenarios",id:"deployment--configuration-scenarios",level:3},{value:"Setting up REACT_APP_TALAWA_URL in .env file",id:"setting-up-react_app_talawa_url-in-env-file",level:4},{value:"Setting up REACT_APP_RECAPTCHA_SITE_KEY in .env file",id:"setting-up-react_app_recaptcha_site_key-in-env-file",level:4},{value:"Setting up Compiletime and Runtime logs",id:"setting-up-compiletime-and-runtime-logs",level:4},{value:"Verifying the Proxy Configuration",id:"verifying-the-proxy-configuration",level:2},{value:"1. Verify the Network Requests",id:"1-verify-the-network-requests",level:3},{value:"2. Troubleshooting Common Errors",id:"2-troubleshooting-common-errors",level:3}];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"It's important to configure Talawa-Admin. Here's how to do it."}),"\n",(0,s.jsx)(t.h2,{id:"automated-setup",children:"Automated Setup"}),"\n",(0,s.jsx)(t.p,{children:"You can use our interactive setup script for the configuration. Use the following command for the same."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"pnpm run setup\n"})}),"\n",(0,s.jsx)(t.p,{children:'All the options in "setup" can be done manually as well and this is covered in a section below.'}),"\n",(0,s.jsx)(t.h2,{id:"manual-setup",children:"Manual Setup"}),"\n",(0,s.jsx)(t.p,{children:"The setup script only modifies the most common configuration parameters. This section explains how to manually edit these values."}),"\n",(0,s.jsx)(t.h3,{id:"the-env-configuration-file",children:"The .env Configuration File"}),"\n",(0,s.jsxs)(t.p,{children:["A file named .env is required in the root directory of talawa-admin for storing environment variables used at runtime. It is not a part of the repo and you will have to create it. For a sample of ",(0,s.jsx)(t.code,{children:".env"})," file there is a file named ",(0,s.jsx)(t.code,{children:".env.example"})," in the root directory. Create a new ",(0,s.jsx)(t.code,{children:".env"})," file by copying the contents of the ",(0,s.jsx)(t.code,{children:".env.example"})," into ",(0,s.jsx)(t.code,{children:".env"})," file. Use this command:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"cp .env.example .env\n\n"})}),"\n",(0,s.jsx)(t.h4,{id:"env-parameters",children:".env Parameters"}),"\n",(0,s.jsxs)(t.p,{children:["This ",(0,s.jsx)(t.code,{children:".env"})," file must be populated with the following environment variables for ",(0,s.jsx)(t.code,{children:"talawa-admin"})," to work:"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Variable"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PORT"}),(0,s.jsx)(t.td,{children:"Custom port for Talawa-Admin development purposes"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"USE_DOCKER"}),(0,s.jsx)(t.td,{children:"Whether you want to use Docker or not"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"DOCKER_MODE"}),(0,s.jsxs)(t.td,{children:["Docker mode: ",(0,s.jsx)(t.code,{children:"ROOTFUL"})," or ",(0,s.jsx)(t.code,{children:"ROOTLESS"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"DOCKER_PORT"}),(0,s.jsx)(t.td,{children:"Port to use when running with Docker"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"REACT_APP_TALAWA_URL"}),(0,s.jsx)(t.td,{children:"URL endpoint for talawa-api graphql service"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"REACT_APP_USE_RECAPTCHA"}),(0,s.jsx)(t.td,{children:"Whether you want to use reCAPTCHA or not"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"REACT_APP_RECAPTCHA_SITE_KEY"}),(0,s.jsx)(t.td,{children:"Site key for authentication using reCAPTCHA"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ALLOW_LOGS"}),(0,s.jsx)(t.td,{children:"Whether you want to see logs in the console"})]})]})]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note:"})," In previous versions, ",(0,s.jsx)(t.code,{children:"REACT_APP_BACKEND_WEBSOCKET_URL"})," was required as a separate variable. This is no longer needed - WebSocket connections are now automatically proxied through the same ",(0,s.jsx)(t.code,{children:"/graphql"})," endpoint as HTTP requests."]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"setting-up-port-in-env-file",children:"Setting up PORT in .env file"}),"\n",(0,s.jsxs)(t.p,{children:["Add a custom port number for Talawa-Admin development purposes to the variable named ",(0,s.jsx)(t.code,{children:"PORT"})," in the ",(0,s.jsx)(t.code,{children:".env"})," file. This is skipped if ",(0,s.jsx)(t.code,{children:"USE_DOCKER"}),' is set to "YES".']}),"\n",(0,s.jsx)(t.h4,{id:"setting-up-use_docker-in-env-file",children:"Setting up USE_DOCKER in .env file"}),"\n",(0,s.jsxs)(t.p,{children:["Set ",(0,s.jsx)(t.code,{children:"USE_DOCKER"}),' to "YES" if you want to run the application using Docker. Otherwise, set it to "NO".']}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'USE_DOCKER="YES"\n'})}),"\n",(0,s.jsx)(t.h4,{id:"setting-up-docker_mode-in-env-file",children:"Setting up DOCKER_MODE in .env file"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"DOCKER_MODE"})," controls whether Docker runs in the default rootful mode or optional rootless mode."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'DOCKER_MODE="ROOTFUL"\n'})}),"\n",(0,s.jsx)(t.p,{children:"Use:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"ROOTFUL"})," for standard Docker daemon socket (",(0,s.jsx)(t.code,{children:"/var/run/docker.sock"}),")"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"ROOTLESS"})," for user-space Docker daemon socket (",(0,s.jsx)(t.code,{children:"/run/user/$UID/docker.sock"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["If you choose ",(0,s.jsx)(t.code,{children:"ROOTLESS"}),", set ",(0,s.jsx)(t.code,{children:"DOCKER_HOST"})," dynamically before running compose:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"export DOCKER_HOST=unix:///run/user/$UID/docker.sock\n"})}),"\n",(0,s.jsx)(t.p,{children:"You can also use the helper script:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'eval "$(./scripts/docker/resolve-docker-host.sh --mode rootless --emit-export --warn-if-docker-group)"\n'})}),"\n",(0,s.jsx)(t.h4,{id:"setting-up-docker_port-in-env-file",children:"Setting up DOCKER_PORT in .env file"}),"\n",(0,s.jsxs)(t.p,{children:["If ",(0,s.jsx)(t.code,{children:"USE_DOCKER"})," is enabled, specifying the port number for the Docker container in the ",(0,s.jsx)(t.code,{children:"DOCKER_PORT"})," variable is required."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'DOCKER_PORT="3000"\n'})}),"\n",(0,s.jsx)(t.h3,{id:"deployment--configuration-scenarios",children:"Deployment & Configuration Scenarios"}),"\n",(0,s.jsxs)(t.p,{children:["Choose the scenario that matches your setup to configure ",(0,s.jsx)(t.code,{children:"REACT_APP_TALAWA_URL"})," correctly."]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Scenario"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Setup Type"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:".env Configuration"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Detailed Notes"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"1. Docker (Local & LAN)"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Running via ",(0,s.jsx)(t.code,{children:"docker compose"}),"."]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"http://talawa-api:4000/graphql"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Critical:"})," Inside Docker, ",(0,s.jsx)(t.code,{children:"localhost"})," does not work. You must use the ",(0,s.jsx)(t.strong,{children:"Service Name"})," defined in ",(0,s.jsx)(t.code,{children:"docker-compose.yml"})," (e.g., ",(0,s.jsx)(t.code,{children:"talawa-api"}),"). This works even if accessing the app from other devices on the network."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"2. Manual (Local & LAN)"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Running ",(0,s.jsx)(t.code,{children:"pnpm start"})," on your machine."]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"http://localhost:4000/graphql"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["The Vite proxy (running on your host machine) forwards requests to the API. ",(0,s.jsx)(t.strong,{children:"Do not change to IP."})," Even when accessing from other devices, the proxy handles the internal connection to localhost."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"3. Production (Manual)"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Deploying static build files."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"https://api.yourdomain.com/graphql"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Important:"})," The Vite proxy is ",(0,s.jsx)(t.strong,{children:"OFF"})," in production. You must configure your web server (Nginx/Apache) to handle CORS or serve the API on the same domain."]})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"setting-up-react_app_talawa_url-in-env-file",children:"Setting up REACT_APP_TALAWA_URL in .env file"}),"\n",(0,s.jsxs)(t.p,{children:["To connect the Admin panel to the API and avoid CORS issues, you only need to configure ",(0,s.jsx)(t.strong,{children:"one variable"})," in your ",(0,s.jsx)(t.code,{children:".env"})," file: ",(0,s.jsx)(t.code,{children:"REACT_APP_TALAWA_URL"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"The application will automatically handle the necessary proxy routing based on your environment."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Configuration Examples by Scenario:"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Scenario"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Deployment Type"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"API Location"}),(0,s.jsxs)(t.th,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:".env"})," Configuration"]}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Notes"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"1"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Docker"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Same System (Localhost)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"REACT_APP_TALAWA_URL=http://localhost:4000/graphql"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The internal Nginx container handles the proxy automatically."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"2"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Docker"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Different Systems (Remote)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"REACT_APP_TALAWA_URL=http://<SERVER_IP>:4000/graphql"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Users access the Admin app via the Server IP. Nginx proxies requests internally."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"3"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Manual (Dev Mode)"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Same System (Localhost)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"REACT_APP_TALAWA_URL=http://localhost:4000/graphql"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The Vite dev server proxies requests to localhost:4000."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"4"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Manual (Dev Mode)"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Different Systems (Remote)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"REACT_APP_TALAWA_URL=http://<API_IP>:4000/graphql"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Set this to the IP of the machine running the API. Vite will proxy requests there."})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Important for Manual Production Builds:"}),"\nIf you are deploying a production build manually without Docker, the Vite Dev Server is not active. You must configure your web server (Nginx or Apache) to forward requests from ",(0,s.jsx)(t.code,{children:"/graphql"})," to your API URL, similar to the rules found in ",(0,s.jsx)(t.code,{children:"config/docker/setup/"}),"."]}),"\n",(0,s.jsx)(t.h4,{id:"setting-up-react_app_recaptcha_site_key-in-env-file",children:"Setting up REACT_APP_RECAPTCHA_SITE_KEY in .env file"}),"\n",(0,s.jsx)(t.p,{children:"This is an optional parameter."}),"\n",(0,s.jsx)(t.p,{children:"You may not want to setup reCAPTCHA since the project will still work. Moreover, it is recommended to not set it up in development environment."}),"\n",(0,s.jsxs)(t.p,{children:["If you want to setup Google reCAPTCHA now, you may refer to the ",(0,s.jsx)(t.code,{children:"RECAPTCHA"})," section in the INSTALLATION.md file found in ",(0,s.jsx)(t.a,{href:"https://github.com/PalisadoesFoundation/talawa-api",children:"Talawa-API repo"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"Talawa-admin"})," needs the ",(0,s.jsx)(t.code,{children:"reCAPTCHA site key"})," for the ",(0,s.jsx)(t.code,{children:"reCAPTCHA"})," service you set up during ",(0,s.jsx)(t.code,{children:"talawa-api"})," installation as shown in this screenshot:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"reCAPTCHA site key",src:n(64080).A+"",width:"1083",height:"575"})}),"\n",(0,s.jsxs)(t.p,{children:["Copy/paste this ",(0,s.jsx)(t.code,{children:"reCAPTCHA site key"})," to the variable named ",(0,s.jsx)(t.code,{children:"REACT_APP_RECAPTCHA_SITE_KEY"})," in ",(0,s.jsx)(t.code,{children:".env"})," file."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'REACT_APP_RECAPTCHA_SITE_KEY="this_is_the_recaptcha_key"\n\n'})}),"\n",(0,s.jsx)(t.h4,{id:"setting-up-compiletime-and-runtime-logs",children:"Setting up Compiletime and Runtime logs"}),"\n",(0,s.jsxs)(t.p,{children:["Set the ",(0,s.jsx)(t.code,{children:"ALLOW_LOGS"}),' to "YES" if you want warnings , info and error messages in your console or leave it blank if you dont need them or want to keep the console clean']}),"\n",(0,s.jsx)(t.h2,{id:"verifying-the-proxy-configuration",children:"Verifying the Proxy Configuration"}),"\n",(0,s.jsxs)(t.p,{children:["After setting up your ",(0,s.jsx)(t.code,{children:".env"})," file and starting the application, you should verify that the Reverse Proxy is correctly forwarding requests from the Admin Panel (Frontend) to the API (Backend)."]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Prerequisite:"})," This proxy configuration requires ",(0,s.jsx)(t.strong,{children:"BOTH"})," the ",(0,s.jsx)(t.code,{children:"talawa-admin"})," (Frontend) and ",(0,s.jsx)(t.code,{children:"talawa-api"})," (Backend) projects to be set up and running simultaneously. The proxy cannot forward requests if the API server is offline."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"1-verify-the-network-requests",children:"1. Verify the Network Requests"}),"\n",(0,s.jsx)(t.p,{children:"The most reliable way to test the proxy is via the Browser's Developer Tools."}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Open your browser and navigate to the Admin Panel (e.g., ",(0,s.jsx)(t.code,{children:"http://localhost:4321"}),")."]}),"\n",(0,s.jsxs)(t.li,{children:["Open ",(0,s.jsx)(t.strong,{children:"Developer Tools"})," (",(0,s.jsx)(t.code,{children:"F12"})," or ",(0,s.jsx)(t.code,{children:"Right Click > Inspect"}),") and go to the ",(0,s.jsx)(t.strong,{children:"Network"})," tab."]}),"\n",(0,s.jsxs)(t.li,{children:["Filter the requests by ",(0,s.jsx)(t.code,{children:"Fetch/XHR"})," or search for ",(0,s.jsx)(t.code,{children:"graphql"}),"."]}),"\n",(0,s.jsx)(t.li,{children:"Reload the page."}),"\n",(0,s.jsxs)(t.li,{children:["Click on the ",(0,s.jsx)(t.code,{children:"graphql"})," request and check the ",(0,s.jsx)(t.strong,{children:"Headers"})," tab."]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Check"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Correct Value"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Incorrect Value (Error)"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Request URL"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"http://localhost:4321/graphql"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"http://localhost:4000/graphql"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Status Code"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"200 OK"}),", ",(0,s.jsx)(t.code,{children:"401 Unauthorized"})]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.code,{children:"404 Not Found"})," or ",(0,s.jsx)(t.code,{children:"Network Error"})]})]})]})]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note:"})," A ",(0,s.jsx)(t.strong,{children:"400 Bad Request"})," is valid ",(0,s.jsx)(t.strong,{children:"IF"}),' the response body contains a specific GraphQL error (e.g., "Cannot query field", "Validation error"). This means the proxy works, but the application code has a schema mismatch.']}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"2-troubleshooting-common-errors",children:"2. Troubleshooting Common Errors"}),"\n",(0,s.jsx)(t.p,{children:"If the connection fails, use this table to identify the cause based on the error message:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Error Message"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Probable Cause"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Solution"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"CORS Error"})," (Blocked by CORS policy)"]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The browser is bypassing the proxy and hitting the API directly."}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["1. ",(0,s.jsxs)(t.strong,{children:["Check ",(0,s.jsx)(t.code,{children:".env"})]}),": Ensure ",(0,s.jsx)(t.code,{children:"REACT_APP_TALAWA_URL"})," is set to the ",(0,s.jsx)(t.strong,{children:"full backend URL"})," (e.g., ",(0,s.jsx)(t.code,{children:"http://localhost:4000/graphql"})," or ",(0,s.jsx)(t.code,{children:"http://192.168.x.x:4000/graphql"}),").",(0,s.jsx)("br",{}),"2. ",(0,s.jsx)(t.strong,{children:"Verify"})," ",(0,s.jsx)(t.code,{children:"vite.config.ts"})," has ",(0,s.jsx)(t.code,{children:"changeOrigin: true"})," in the proxy configuration.",(0,s.jsx)("br",{}),"3. ",(0,s.jsx)(t.strong,{children:"Restart"})," the dev server after changing ",(0,s.jsx)(t.code,{children:".env"})," files."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:'"Unknown query"'})," (400 Bad Request)"]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Proxy Issue."})," The Backend received the request, but the data payload arrived empty."]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:['The proxy is incorrectly "dropping" the request body while forwarding it. Check your proxy middleware configuration in ',(0,s.jsx)(t.code,{children:"vite.config.ts"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:'"Cannot query field..."'})," (400 Bad Request)"]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,s.jsx)(t.strong,{children:"Success (Proxy Working)."})," The backend received the query but rejected the syntax."]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The proxy is working correctly. This is an application logic issue (e.g., database schema mismatch or a bug in the specific GraphQL query)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"500 Internal Server Error"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The Backend crashed while processing the request."}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Check the ",(0,s.jsx)(t.code,{children:"talawa-api"})," logs for the stack trace. ",(0,s.jsx)("br",{}),"\u2022 ",(0,s.jsx)(t.strong,{children:"Docker Compose:"})," Run ",(0,s.jsx)(t.code,{children:"docker logs talawa-api-1"})," ",(0,s.jsx)("br",{}),"\u2022 ",(0,s.jsx)(t.strong,{children:"Manual Start:"})," Check the terminal window where you ran the server command."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:'"You must be authenticated..."'})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Success (Proxy Working)."})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The connection is successful, but the user is not logged in."})]})]})]})]})}function a(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);